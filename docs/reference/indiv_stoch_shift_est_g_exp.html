<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Estimate the Exposure Mechanism via Generalized Propensity Score for One Exposure Variable — indiv_stoch_shift_est_g_exp • IsoXshift</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Estimate the Exposure Mechanism via Generalized Propensity Score for One Exposure Variable — indiv_stoch_shift_est_g_exp"><meta property="og:description" content="Estimate the Exposure Mechanism via Generalized Propensity Score for One Exposure Variable"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">IsoXshift</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/intro_IsoXshift.html">Isobolic Interaction Identification and Estimation using Data-Adaptive Stochastic Interventions</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Estimate the Exposure Mechanism via Generalized Propensity Score for One Exposure Variable</h1>
    
    <div class="hidden name"><code>indiv_stoch_shift_est_g_exp.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Estimate the Exposure Mechanism via Generalized Propensity Score for One Exposure Variable</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">indiv_stoch_shift_est_g_exp</span><span class="op">(</span></span>
<span>  <span class="va">exposure</span>,</span>
<span>  <span class="va">delta</span>,</span>
<span>  <span class="va">g_learner</span>,</span>
<span>  <span class="va">covars</span>,</span>
<span>  <span class="va">av</span>,</span>
<span>  <span class="va">at</span>,</span>
<span>  <span class="va">adaptive_delta</span>,</span>
<span>  <span class="va">hn_trunc_thresh</span>,</span>
<span>  <span class="va">use_multinomial</span>,</span>
<span>  <span class="va">lower_bound</span>,</span>
<span>  <span class="va">upper_bound</span>,</span>
<span>  <span class="va">outcome_type</span>,</span>
<span>  <span class="va">density_type</span>,</span>
<span>  <span class="va">n_bins</span>,</span>
<span>  <span class="va">max_degree</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>exposure</dt>
<dd><p>A <code>character</code> representing the label of the exposure variable. This
variable should be a column name in the input data.</p></dd>


<dt>delta</dt>
<dd><p>A <code>numeric</code> value specifying the shift in the observed value of the
exposure for evaluating counterfactual observations. Positive values will result in upward
shifts, while negative values will result in downward shifts.</p></dd>


<dt>g_learner</dt>
<dd><p>An object containing a set of instantiated learners from the <span class="pkg">sl3</span>
package, to be used in fitting an ensemble model for GPS estimation. Learners should be
chosen based on the structure of the data and the relationships between exposure, covariates,
and outcome.</p></dd>


<dt>covars</dt>
<dd><p>A <code>character</code> vector representing the labels of the covariate variables.
These variables should be column names in the input data and serve as control variables in
the GPS estimation.</p></dd>


<dt>av</dt>
<dd><p>A <code>dataframe</code> containing validation data specific to the fold. This data is
used to evaluate the performance of the GPS model during cross-validation.</p></dd>


<dt>at</dt>
<dd><p>A <code>dataframe</code> containing training data specific to the fold. This data is
used to fit the GPS model during cross-validation.</p></dd>


<dt>adaptive_delta</dt>
<dd><p>A <code>logical</code> indicating whether to adaptively adjust delta based on
positivity (estimated from the clever covariate) meeting the hn_trunc_thresh level. If
<code>TRUE</code>, the function will adjust delta to ensure sufficient overlap in the GPS
distributions.</p></dd>


<dt>hn_trunc_thresh</dt>
<dd><p>A <code>numeric</code> value specifying the level of the clever covariate
in the adaptive delta procedure. It represents the minimum proportion of observations in each
exposure group to be included when adjusting delta.</p></dd>


<dt>use_multinomial</dt>
<dd><p>TRUE/FALSE whether to use multinomial for PMF estimation vs. PDF of exposure</p></dd>


<dt>lower_bound</dt>
<dd><p>A <code>numeric</code> value specifying the lower bound of the exposure variable
to prevent shifting past this limit during the GPS estimation.</p></dd>


<dt>upper_bound</dt>
<dd><p>A <code>numeric</code> value specifying the upper bound of the exposure variable
to prevent shifting past this limit during the GPS estimation.</p></dd>


<dt>outcome_type</dt>
<dd><p>A <code>character</code> specifying whether the outcome is 'categorical' or
'continuous' based on the discretization of the exposure variable. This information is used
to determine the appropriate learner type for the GPS model.</p></dd>


<dt>density_type</dt>
<dd><p>A <code>character</code> specifying the type of density estimator to use for
GPS estimation. Possible options are 'SL' (Super Learner) or 'HAL' (Highly Adaptive Lasso).</p></dd>


<dt>n_bins</dt>
<dd><p>A <code>numeric</code> value specifying the number of bins to be used if the exposure
variable is discretized. This parameter is only applicable when exposure_quantized is <code>TRUE</code>.</p></dd>


<dt>max_degree</dt>
<dd><p>A <code>numeric</code> value specifying the maximum degree of
interactions to be used in the Highly Adaptive Lasso (HAL) if HAL is chosen as the
density estimator. Higher values will result in a more flexible GPS model, but may
increase the risk of overfitting.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A <code>data.table</code> with four columns, containing estimates of the
generalized propensity score at a downshift (g(A - delta | W)), no shift
(g(A | W)), an upshift (g(A + delta) | W), and an upshift of magnitude two
(g(A + 2 * delta) | W).</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>This function computes the generalized propensity score (GPS) for the observed
data with one exposure variable, considering different shift levels. It estimates the GPS at
the observed data (at the observed A), and at the counterfactual shifted exposure levels
(at A - delta, A + delta, and A + 2 * delta).</p>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by David McCoy.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

